<!DOCTYPE html>
<html lang="en">
<head>
        <title>Careless Whisper</title>
        <meta charset="utf-8" />
                <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="./" type="application/atom+xml" rel="alternate" title="Careless Whisper ATOM Feed" />
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
<a href="http://github.com/weiweiwang/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href=".">Careless Whisper </a></h1>
                <nav><ul>
                                                                                        <li ><a href="./category/android.html">android</a></li>
                                    <li ><a href="./category/linux.html">linux</a></li>
                                    <li ><a href="./category/misc.html">misc</a></li>
                                    <li ><a href="./category/programming.html">programming</a></li>
                                    <li ><a href="./category/search.html">search</a></li>
                                    <li ><a href="./category/sql_nosql.html">sql_nosql</a></li>
                                                    <li><a href="./tags.html">Tags</a></li>
                                </ul></nav>
        </header><!-- /#banner -->
                
        
            <aside id="featured" class="body"><article>
                <h1 class="entry-title"><a href="./in-project-maven-dependency,in-project-repository.html">In project repository for maven:Maven本地依赖配置</a></h1> 
                <footer class="post-info">
        <abbr class="published" title="2013-11-16T00:00:00">
                2013/十一月/16 星期六
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/programming.html">programming</a>. </p>
<p>tags: <a href="./tag/maven.html">maven</a><a href="./tag/dependency.html">dependency</a><a href="./tag/in-project.html">in-project</a></p></p>
</footer><!-- /.post-info -->                <h1 id="in-project-repository">In Project Repository</h1>
<pre><code>&lt;repository&gt;
    &lt;id&gt;lib&lt;/id&gt;
    &lt;name&gt;lib&lt;/name&gt;
    &lt;releases&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;checksumPolicy&gt;ignore&lt;/checksumPolicy&gt;
    &lt;/releases&gt;
    &lt;snapshots&gt;
        &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/snapshots&gt;
    &lt;url&gt;file://${project.basedir}/lib&lt;/url&gt;
&lt;/repository&gt;
</code></pre>
<h1 id="lib-structure">Lib structure</h1>
<p>对于groupId=x.y.z的目录结构如下</p>
<pre><code>lib
  |-- x
      |-- y
          |-- z
              |-- ${artifactId}
                  |-- ${version}
                      |-- ${artifactId}-${version}.pom
                      |-- ${artifactId}-${version}.pom.sha1
                      |-- ${artifactId}-${version}.jar
                      |-- ${artifactId}-${version}.jar.sha1
</code></pre>
<p>由于上面的repository设置了ingore checksum,所以sha1的文件不是必须的</p>
<h1 id="artifactid-versionpom">如何生成${artifactId}-${version}.pom</h1>
<pre><code>mvn install:install-file -Dfile=xxx.jar -DgroupId=x.y.z -DartifactId=${artifactId} -Dversion=${version} -Dpackaging=jar -DgeneratePom=true
</code></pre>
<p>生成完之后拷贝到lib目录下的对应位置即可。</p>
                <p>There are <a href="./in-project-maven-dependency,in-project-repository.html#disqus_thread">comments</a>.</p>                </article>
                </aside><!-- /#featured -->
                    <section id="content" class="body">
                <h1>Other articles</h1>
                <hr />
                    <ol id="posts-list" class="hfeed">
                    
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./django-environment-setup.html" rel="bookmark" title="Permalink to django环境安装">django环境安装</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-06-16T00:00:00">
                2013/六月/16 星期日
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/sql_nosql.html">sql_nosql</a>. </p>
<p>tags: <a href="./tag/mysql.html">mysql</a><a href="./tag/character-set.html">character set</a><a href="./tag/utf8.html">utf8</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#django">django</a></li>
<li><a href="#mysqldb">mysqldb</a><ul>
<li><a href="#ubuntu">ubuntu</a></li>
<li><a href="#centos">centos</a></li>
</ul>
</li>
<li><a href="#tutorial">tutorial</a></li>
<li><a href="#centos-python27">centos python升级到2.7</a></li>
</ul>
</div>
<h1 id="django">django</h1>
<pre><code>    pip install django
    pip install flup(for fastcgi deploy)
</code></pre>
<h1 id="mysqldb">mysqldb</h1>
<p>依赖参考：https://raw.github.com/farcepest/MySQLdb1/master/INSTALL</p>
<h2 id="ubuntu">ubuntu</h2>
<pre><code>    sudo apt-get install python-mysqldb
</code></pre>
<h2 id="centos">centos</h2>
<pre><code>    yum install MySQL-python.x86_64
            或者
    yum install mysql-devel.x86_64
    pip install MySQL-python
</code></pre>
<h1 id="tutorial">tutorial</h1>
<p>https://docs.djangoproject ...</p>
                <a class="readmore" href="./django-environment-setup.html">read more</a>
                <p>There are <a href="./django-environment-setup.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./mysql-character-set-utf8.html" rel="bookmark" title="Permalink to mysql utf8编码配置">mysql utf8编码配置</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-06-16T00:00:00">
                2013/六月/16 星期日
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/sql_nosql.html">sql_nosql</a>. </p>
<p>tags: <a href="./tag/mysql.html">mysql</a><a href="./tag/character-set.html">character set</a><a href="./tag/utf8.html">utf8</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#_1">查看当前的编码</a></li>
<li><a href="#etcmycnfetcmysqlmycnf">修改配置文件/etc/my.cnf(或者/etc/mysql/my.cnf)</a></li>
<li><a href="#mysql">重启mysql</a></li>
</ul>
</div>
<h1 id="_1">查看当前的编码</h1>
<pre><code>    mysql&gt; show variables like '%char%';
    +--------------------------+----------------------------+
    | Variable_name            | Value                      |
    +--------------------------+----------------------------+
    | character_set_client     | latin1                     |
    | character_set_connection | latin1                     |
    | character_set_database   | latin1                     |
    | character_set_filesystem | binary                     |
    | character_set_results    | latin1                     |
    | character_set_server     | latin1                     |
    | character_set_system     | utf8                       |
    | character_sets_dir       | /usr/share/mysql/charsets/ |
    +--------------------------+----------------------------+
    8 rows in set (0.00 sec)
</code></pre>
<p>用status命令查看也可以看到几种配置对应的编码：</p>
<pre><code>    mysql&gt; status;
    --------------
    mysql  Ver ...</code></pre>
                <a class="readmore" href="./mysql-character-set-utf8.html">read more</a>
                <p>There are <a href="./mysql-character-set-utf8.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./cities-in-china-with-area-code-and-pinyin.html" rel="bookmark" title="Permalink to 全国城市区号信息">全国城市区号信息</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-28T00:00:00">
                2013/三月/28 星期四
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/misc.html">misc</a>. </p>
<p>tags: <a href="./tag/cities.html">cities</a><a href="./tag/pinyin.html">pinyin</a><a href="./tag/area-code.html">area code</a></p></p>
</footer><!-- /.post-info -->                <h1 id="372">372个城市</h1>
<pre><code>    山东
    0531|济南|jinan|历下,市中,槐荫,天桥,历城,长清,平阴,济阳,商河,章丘
    0532|青岛|qingdao|市南,市北,四方,黄岛,崂山,李沧,城阳,胶州,即墨,平度,胶南,莱西
    0533|淄博|zibo|淄川,张店,博山,临淄,周村,桓台,高青,沂源
    0632|枣庄|zaozhuang|市中,薛城,峄城,台儿庄,山亭,滕州 ...</code></pre>
                <a class="readmore" href="./cities-in-china-with-area-code-and-pinyin.html">read more</a>
                <p>There are <a href="./cities-in-china-with-area-code-and-pinyin.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./recovery-mysql-root-password.html" rel="bookmark" title="Permalink to 重置mysql的root密码">重置mysql的root密码</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-03-08T00:00:00">
                2013/三月/08 星期五
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/sql_nosql.html">sql_nosql</a>. </p>
<p>tags: <a href="./tag/mysql.html">mysql</a><a href="./tag/root.html">root</a><a href="./tag/recovery.html">recovery</a><a href="./tag/password.html">password</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#_1">查看当前的启动命令</a></li>
<li><a href="#mysql">关闭Mysql</a></li>
<li><a href="#mysql_1">启动不需要认证的mysql</a></li>
<li><a href="#_2">重设密码</a></li>
<li><a href="#mysql_2">重启mysql</a></li>
</ul>
</div>
<h1 id="_1">查看当前的启动命令</h1>
<pre><code>    ps auxf|grep mysql
    /bin/sh /usr/local/mysql/bin/mysqld_safe --datadir=/data/mysql --pid-file=/usr/local/mysql/tmp/mysql.pid
</code></pre>
<h1 id="mysql">关闭Mysql</h1>
<pre><code>    killall -TERM mysqld
</code></pre>
<h1 id="mysql_1">启动不需要认证的mysql</h1>
<pre><code>    nohup /bin/sh /usr/local/mysql/bin/mysqld_safe  --skip-grant-tables --datadir=/data/mysql --pid-file=/usr/local/mysql/tmp/mysql ...</code></pre>
                <a class="readmore" href="./recovery-mysql-root-password.html">read more</a>
                <p>There are <a href="./recovery-mysql-root-password.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./android-unit-tests.html" rel="bookmark" title="Permalink to Android上的单元测试">Android上的单元测试</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-02-25T00:00:00">
                2013/二月/25 星期一
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/android.html">android</a>. </p>
<p>tags: <a href="./tag/unit-test.html">unit-test</a><a href="./tag/android.html">android</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#_1">工作流程</a><ul>
<li><a href="#android-application-tests">Android Application Tests</a></li>
<li><a href="#android-library-project">Android Library Project</a></li>
</ul>
</li>
<li><a href="#_2">命令行</a><ul>
<li><a href="#application-project">创建Application Project</a></li>
<li><a href="#library-project">创建Library Project</a></li>
<li><a href="#test-project">创建Test Project</a></li>
<li><a href="#_3">编译运行测试</a></li>
</ul>
</li>
<li><a href="#_4">混淆相关</a></li>
</ul>
</div>
<h1 id="_1">工作流程</h1>
<h2 id="android-application-tests">Android Application Tests</h2>
<ol>
<li>Application</li>
<li>Test Project</li>
</ol>
<h2 id="android-library-project">Android Library Project</h2>
<ol>
<li>Application for the lib-project</li>
<li>Test project for the application</li>
</ol>
<h1 id="_2">命令行</h1>
<h2 id="application-project">创建Application Project</h2>
<h2 id="library-project">创建Library Project</h2>
<h2 id="test-project">创建Test Project</h2>
<h2 id="_3">编译运行测试</h2>
<pre><code>    adb shell pm list instrumentation
    adb shell ...</code></pre>
                <a class="readmore" href="./android-unit-tests.html">read more</a>
                <p>There are <a href="./android-unit-tests.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./mmseg.html" rel="bookmark" title="Permalink to mmseg分词方法学习">mmseg分词方法学习</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-12-17T00:00:00">
                2012/十二月/17 星期一
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/search.html">search</a>. </p>
<p>tags: <a href="./tag/mmseg.html">mmseg</a><a href="./tag/lucene.html">lucene</a><a href="./tag/analyzer.html">analyzer</a><a href="./tag/mmseg4j.html">mmseg4j</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#_1">参考</a></li>
<li><a href="#_2">基本原理</a><ul>
<li><a href="#simple-maximum-matching">Simple maximum matching</a></li>
<li><a href="#complex-maximum-matching">Complex maximum matching</a></li>
<li><a href="#_3">歧义消除规则</a></li>
</ul>
</li>
<li><a href="#_4">其他分词工具</a></li>
</ul>
</div>
<h1 id="_1">参考</h1>
<p>论文页面<a href="http://technology.chtsai.org/mmseg/">http://technology.chtsai.org/mmseg/</a>
java版实现<a href="https://code.google.com/p/mmseg4j/">mmseg4j</a></p>
<h1 id="_2">基本原理</h1>
<h2 id="simple-maximum-matching">Simple maximum matching</h2>
<p>只找最长的匹配，比如C1C2C3C4C5这样的句子，词典里的数据是C1C2,C1C2C3，那么字符串开始位置开始搜索最长的匹配即为分词结果。</p>
<h2 id="complex-maximum-matching">Complex maximum matching</h2>
<p>这个是在Simple maximum matching基础上的改进。这个方法同时考虑歧义的多个匹配，并加入连续的后面两个词，构成一个3-word chunk。选择最长的chunk中的第一个词。</p>
<pre><code>1. _C1_ _C2_ _C3C4_
2. _C1C2_ _C3C4_ _C5_
3. _C1C2_ _C3C4_ ...</code></pre>
                <a class="readmore" href="./mmseg.html">read more</a>
                <p>There are <a href="./mmseg.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./elasticsearch-configuration-and-performance-tuning.html" rel="bookmark" title="Permalink to ElasticSearch Configuration and Performance Tuning">ElasticSearch Configuration and Performance Tuning</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-12-12T00:00:00">
                2012/十二月/12 星期三
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/search.html">search</a>. </p>
<p>tags: <a href="./tag/elasticsearch-configuration.html">elasticsearch configuration</a><a href="./tag/performance-tuning.html">performance tuning</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#_1">下载与安装</a><ul>
<li><a href="#_2">下载</a></li>
<li><a href="#_3">安装</a></li>
<li><a href="#_4">启动</a></li>
</ul>
</li>
<li><a href="#_5">配置</a><ul>
<li><a href="#_6">系统配置</a></li>
<li><a href="#_7">内存配置</a></li>
<li><a href="#elasticsearchyml">elasticsearch.yml配置</a><ul>
<li><a href="#_8">集群名称</a></li>
<li><a href="#shardreplica">shard和replica配置</a></li>
<li><a href="#refresh_interval">refresh_interval</a></li>
<li><a href="#cache">cache设置</a></li>
<li><a href="#memory-lock">开启memory lock</a></li>
<li><a href="#_9">索引和分词的配置</a></li>
<li><a href="#mappings">mappings的配置</a></li>
</ul>
</li>
<li><a href="#_10">测试</a><ul>
<li><a href="#_11">增加一条数据：</a></li>
<li><a href="#_12">查询中关村(汉字需要编码）</a></li>
<li><a href="#_13">查询中关(汉字需要编码)</a></li>
<li><a href="#query-string">使用query string查询</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mmseg">mmseg词典更新</a></li>
<li><a href="#_14">性能优化</a><ul>
<li><a href="#_15">准备工作</a></li>
<li><a href="#_16">影响性能的因素</a><ul>
<li><a href="#4g">内存要足够多，4G或以上</a></li>
<li><a href="#memory-lock_1">如果可能开启memory lock</a></li>
<li><a href="#65536">文件句柄数是否足够，建议设置为65536或以上</a></li>
<li><a href="#64linuxsolarismmapfs">如果是64位linux/solaris系统，开启mmapfs</a></li>
<li><a href="#optimze">optimze索引文件为一个文件</a></li>
<li><a href="#cache_1">调整cache保证足够使用</a></li>
<li><a href="#refresh_interval60s">refresh_interval调大一些，比如60s或者更大</a></li>
<li><a href="#_17">放大招了</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_18">参考</a></li>
</ul>
</div>
<h1 id="_1">下载与安装</h1>
<h2 id="_2">下载</h2>
<p><a href="http://www.elasticsearch.org/download/">http://www.elasticsearch.org ...</a></p>
                <a class="readmore" href="./elasticsearch-configuration-and-performance-tuning.html">read more</a>
                <p>There are <a href="./elasticsearch-configuration-and-performance-tuning.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./optimize-web-speed.html" rel="bookmark" title="Permalink to 优化网站访问速度">优化网站访问速度</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-11-11T00:00:00">
                2012/十一月/11 星期日
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/programming.html">programming</a>. </p>
<p>tags: <a href="./tag/cdn.html">cdn</a><a href="./tag/optimize.html">optimize</a><a href="./tag/speed.html">speed</a><a href="./tag/webpage.html">webpage</a><a href="./tag/gzip.html">gzip</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#http">减少HTTP请求数</a></li>
<li><a href="#cdn">使用内容分发网络(CDN)</a></li>
<li><a href="#expires-and-cache-control">Expires and Cache-Control</a></li>
<li><a href="#gzip">使用Gzip压缩</a></li>
<li><a href="#cssjscssjs">css在前，js在后,不要在CSS中使用js</a></li>
<li><a href="#cssjshtml">css，js用外部文件，不要写在html中</a></li>
<li><a href="#jscss">压缩js，css</a></li>
<li><a href="#redirect">减少Redirect</a></li>
<li><a href="#etaglast-modified-header">Etag和Last-Modified Header</a></li>
<li><a href="#ajaxget">Ajax请求尽量多是GET请求</a></li>
<li><a href="#_1">预加载和延迟加载</a></li>
<li><a href="#_2">减少页面复杂度</a></li>
<li><a href="#_3">使用多个域来提供性能</a></li>
<li><a href="#cookie">减少Cookie体积</a></li>
<li><a href="#dom-access">DOM access</a></li>
<li><a href="#_4">图片尺寸优化</a></li>
<li><a href="#_5">参考</a></li>
</ul>
</div>
<h1 id="http">减少HTTP请求数</h1>
<p>减少页面上css,js,图片的文件个数。</p>
<h1 id="cdn">使用内容分发网络(CDN)</h1>
<p>解决夸地域访问使用CDN是最好的方式了，省钱又省力。</p>
<h1 id="expires-and-cache-control">Expires and Cache-Control</h1>
<p>设置页面的Expires和Cache-Control:max-age来缓存页面，注意这时候服务端的访问统计就会受影响了，建议使用百度统计或者google统计来解决页面访问统计的问题。</p>
<h1 id="gzip">使用Gzip压缩</h1>
<p>这个不用多说了，压缩为50%是很正常的，通常压缩比可以达到1/8或者更高(1/10 ...</p>
                <a class="readmore" href="./optimize-web-speed.html">read more</a>
                <p>There are <a href="./optimize-web-speed.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./reservoir-sampling.html" rel="bookmark" title="Permalink to 随机抽样问题">随机抽样问题</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-10-19T00:00:00">
                2012/十月/19 星期五
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/programming.html">programming</a>. </p>
<p>tags: <a href="./tag/random-sampling.html">random sampling</a><a href="./tag/reservoir-sampling.html">reservoir sampling</a></p></p>
</footer><!-- /.post-info -->                <h1 id="_1">问题</h1>
<pre><code>    要求从N个元素中随机的抽取k个元素，其中N无法确定。
</code></pre>
<h1 id="_2">伪代码</h1>
<pre><code>    Init : a reservoir with the size： k
         for i= k+1 to N
              M=random(1, i);
              if( M &lt; k)
                 SWAP the Mth value and ith value
         end for
</code></pre>
<h1 id="_3">证明</h1>
<p>初始情况: i&lt;=k,i个元素全部放入水库，每个元素出现在水池的概率为1。</p>
<p>假设k&lt;=j&lt;=i时结论成立。</p>
<p>当j=i+1,第i+1个元素会以k/(i+1)的概率被选中 ...</p>
                <a class="readmore" href="./reservoir-sampling.html">read more</a>
                <p>There are <a href="./reservoir-sampling.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./java-cpu-usage-analysis.html" rel="bookmark" title="Permalink to Java程序CPU使用分析">Java程序CPU使用分析</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-09-18T00:00:00">
                2012/九月/18 星期二
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/programming.html">programming</a>. </p>
<p>tags: <a href="./tag/java.html">java</a><a href="./tag/cpu.html">cpu</a><a href="./tag/usage.html">usage</a><a href="./tag/top.html">top</a><a href="./tag/jstack.html">jstack</a><a href="./tag/kill.html">kill</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#topcpujava">用top找出cpu消耗过高的java进程</a></li>
<li><a href="#cpu">查看cpu消耗过高的线程。</a></li>
<li><a href="#jstack">用jstack分析线程栈</a></li>
<li><a href="#_1">跟踪代码定位问题</a></li>
</ul>
</div>
<h1 id="topcpujava">用top找出cpu消耗过高的java进程</h1>
<pre><code>top - 11:49:39 up 1 day,  1:53,  8 users,  load average: 0.24, 0.13, 0.22
Tasks: 210 total,   2 running, 203 sleeping,   0 stopped,   5 zombie
Cpu(s):  7.8%us,  3.7%sy,  0.1%ni, 87.2%id,  1 ...</code></pre>
                <a class="readmore" href="./java-cpu-usage-analysis.html">read more</a>
                <p>There are <a href="./java-cpu-usage-analysis.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./android-tcpdump.html" rel="bookmark" title="Permalink to Android上用Tcpdump抓包">Android上用Tcpdump抓包</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-08-25T00:00:00">
                2012/八月/25 星期六
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/android.html">android</a>. </p>
<p>tags: <a href="./tag/tcpdump.html">tcpdump</a><a href="./tag/android.html">android</a></p></p>
</footer><!-- /.post-info -->                <h1 id="_1">下载</h1>
<p>下载tcpdump， 还有个地址是http://www.eecs.umich.edu/~timuralp/tcpdump-arm，下载重命名为tcpdump</p>
<h1 id="_2">使用</h1>
<p>详细使用请参考http://www.tcpdump.org/里面的文档</p>
<p>机器是需要root过才能使用tcpdump的。</p>
<pre><code>adb push c:/wherever_you_put/tcpdump /data/local/tcpdump
adb shell chmod 6755 /data/local/tcpdump
</code></pre>
<p>抓包很简单(需要root权限）</p>
<pre><code>adb shell
su（这个是换成root用户）
/data/local/tcpdump -p -vv -s 0 -w /sdcard/capture.pcap
</code></pre>
<p>接着就会看到 ...</p>
                <a class="readmore" href="./android-tcpdump.html">read more</a>
                <p>There are <a href="./android-tcpdump.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./jvm-gc-tuning.html" rel="bookmark" title="Permalink to Java虚拟机GC调整">Java虚拟机GC调整</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-08-25T00:00:00">
                2012/八月/25 星期六
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/programming.html">programming</a>. </p>
<p>tags: <a href="./tag/java.html">java</a><a href="./tag/jvm.html">jvm</a><a href="./tag/garbage-collection.html">garbage collection</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#java">Java垃圾回收介绍</a><ul>
<li><a href="#_1">垃圾回收算法</a><ul>
<li><a href="#reference-counting">引用计数（Reference Counting）</a></li>
<li><a href="#-mark-sweep">标记-清除（Mark-Sweep）</a></li>
<li><a href="#copying">复制（Copying）</a></li>
<li><a href="#-mark-compact">标记-整理（Mark-Compact）</a></li>
<li><a href="#incremental-collecting">增量收集（Incremental Collecting）</a></li>
<li><a href="#generational-collecting">分代（Generational Collecting）</a></li>
</ul>
</li>
<li><a href="#gcscavenge-gcfull-gc">GC的两种类型：Scavenge GC和Full GC。</a><ul>
<li><a href="#scavenge-gc">Scavenge GC</a></li>
<li><a href="#full-gc">Full GC</a></li>
</ul>
</li>
<li><a href="#java-garbage-collector">Java Garbage Collector</a><ul>
<li><a href="#_2">串行收集器</a></li>
<li><a href="#_3">并行收集器</a></li>
<li><a href="#_4">并发收集器</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#jvm-gc">针对并发收集器的JVM GC参数调整</a><ul>
<li><a href="#jstat">jstat的使用</a><ul>
<li><a href="#gcutil">gcutil</a></li>
<li><a href="#gcnew">gcnew</a></li>
<li><a href="#gcold">gcold</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ps-top">ps, top的使用</a><ul>
<li><a href="#_5">常用配置</a></li>
<li><a href="#64">使用64位服务器的线上服务的推荐配置</a></li>
</ul>
</li>
<li><a href="#_6">参考</a></li>
</ul>
</div>
<h1 id="java">Java垃圾回收介绍</h1>
<p>我们先来看一张对象生存期的图。横轴是对象分配后的生存期，纵轴是相应生存期的字节总数。从这张图我们可以看出绝大多数对象的生存期是很短暂的。
比如程序中随处可见的局部变量。对于那些长期生存的变量，比如程序内部的计数器 ...</p>
                <a class="readmore" href="./jvm-gc-tuning.html">read more</a>
                <p>There are <a href="./jvm-gc-tuning.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./common-shell-command.html" rel="bookmark" title="Permalink to 常用shell命令">常用shell命令</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-08-19T00:00:00">
                2012/八月/19 星期日
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/linux.html">linux</a>. </p>
<p>tags: <a href="./tag/bash.html">bash</a><a href="./tag/shell.html">shell</a><a href="./tag/log.html">log</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#_1">测试文件</a><ul>
<li><a href="#testtxt">test.txt</a></li>
</ul>
</li>
<li><a href="#sort">sort</a><ul>
<li><a href="#_2">常用参数说明</a></li>
<li><a href="#_3">举例</a></li>
</ul>
</li>
<li><a href="#uniq">uniq</a><ul>
<li><a href="#_4">常用参数说明</a></li>
<li><a href="#_5">举例</a></li>
</ul>
</li>
<li><a href="#join">join</a><ul>
<li><a href="#_6">常用参数说明</a></li>
<li><a href="#_7">举例</a></li>
</ul>
</li>
<li><a href="#awk">awk</a><ul>
<li><a href="#_8">常用参数说明</a></li>
<li><a href="#http-server">分析http server的处理速度</a></li>
<li><a href="#http">切割http请求参数的样例</a></li>
</ul>
</li>
<li><a href="#sed">sed</a><ul>
<li><a href="#_9">举例</a></li>
</ul>
</li>
<li><a href="#_10">需要注意的地方</a><ul>
<li><a href="#1txt">1.txt</a></li>
<li><a href="#2txt">2.txt</a></li>
<li><a href="#join-with-default-lang">join with default LANG</a></li>
<li><a href="#join-with-lc_allc">join with LC_ALL=C</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="_1">测试文件</h1>
<h2 id="testtxt">test.txt</h2>
<pre><code>title
slug
category
tag
slug
tag
</code></pre>
<h1 id="sort">sort</h1>
<p>这个命令可以对文件或者输入流进行排序输出。</p>
<h2 id="_2">常用参数说明</h2>
<ul>
<li>-t 分隔符，通过这个可以将每一行分隔成若干字段，比如\t分隔的时候要传递-t $'\t ...</li></ul>
                <a class="readmore" href="./common-shell-command.html">read more</a>
                <p>There are <a href="./common-shell-command.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./compress-js-css-with-yui-compressor-maven-pojo.html" rel="bookmark" title="Permalink to Compress js and css with YUI Compressor Maven Mojo">Compress js and css with YUI Compressor Maven Mojo</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-08-19T00:00:00">
                2012/八月/19 星期日
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/programming.html">programming</a>. </p>
<p>tags: <a href="./tag/js.html">js</a><a href="./tag/css.html">css</a><a href="./tag/yui.html">yui</a><a href="./tag/compressor.html">compressor</a><a href="./tag/maven.html">maven</a></p></p>
</footer><!-- /.post-info -->                <h1 id="_1">配置</h1>
<pre><code>&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;name&gt;oss.sonatype.org&lt;/name&gt;
        &lt;id&gt;oss.sonatype.org&lt;/id&gt;
        &lt;url&gt;http://oss.sonatype.org/content/groups/public&lt;/url&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
&lt;plugin&gt;
            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;
            &lt;artifactId&gt;yuicompressor-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;compress&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;configuration&gt;
                &lt;nosuffix&gt;true&lt;/nosuffix&gt;
                &lt;sourceDirectory&gt;${project.basedir}/web ...</code></pre>
                <a class="readmore" href="./compress-js-css-with-yui-compressor-maven-pojo.html">read more</a>
                <p>There are <a href="./compress-js-css-with-yui-compressor-maven-pojo.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./get-familar-with-redis.html" rel="bookmark" title="Permalink to get familar with redis:a great data structure server">get familar with redis:a great data structure server</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-07-28T00:00:00">
                2012/七月/28 星期六
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/sql_nosql.html">sql_nosql</a>. </p>
<p>tags: <a href="./tag/redis.html">redis</a><a href="./tag/nosql.html">nosql</a><a href="./tag/memcache.html">memcache</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#intro">intro</a><ul>
<li><a href="#_1">关于作者</a></li>
<li><a href="#redis">使用redis你可以做哪些事情</a></li>
</ul>
</li>
<li><a href="#install">install</a></li>
<li><a href="#test">test</a></li>
<li><a href="#benchmark">benchmark</a><ul>
<li><a href="#_2">系统配置</a></li>
<li><a href="#_3">使用的命令</a></li>
<li><a href="#_4">测试结果</a><ul>
<li><a href="#value-size-32">value size 32</a></li>
<li><a href="#value-size-128">value size 128</a></li>
<li><a href="#value-size-512">value size 512</a></li>
<li><a href="#value-size-2048">value size 2048</a></li>
<li><a href="#value-size-2048-with-pipeline-4-and-20-clientsdefault-50-clients">value size 2048 with pipeline 4 and 20 clients(default 50 clients)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#use-case">use case</a><ul>
<li><a href="#cache">cache系统</a></li>
<li><a href="#_5">任务队列</a></li>
<li><a href="#_6">消息队列</a></li>
<li><a href="#_7">实时计数</a></li>
<li><a href="#map">map使用</a></li>
<li><a href="#set">set使用</a></li>
<li><a href="#sorted-set">sorted set使用</a></li>
<li><a href="#transaction">Transaction</a></li>
<li><a href="#pipeline">Pipeline</a></li>
<li><a href="#instagramredis">新浪和instagram的redis实践</a></li>
</ul>
</li>
<li><a href="#lib">lib</a></li>
<li><a href="#ebook">ebook</a></li>
<li><a href="#reference">reference</a></li>
</ul>
</div>
<h1 id="intro">intro ...</h1>
                <a class="readmore" href="./get-familar-with-redis.html">read more</a>
                <p>There are <a href="./get-familar-with-redis.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./blogging-with-pelican+markdown+github.html" rel="bookmark" title="Permalink to Blogging with pelican+markdown+github">Blogging with pelican+markdown+github</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-06-18T00:00:00">
                2012/六月/18 星期一
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/misc.html">misc</a>. </p>
<p>tags: <a href="./tag/blog.html">blog</a><a href="./tag/pelican.html">pelican</a><a href="./tag/markdown.html">markdown</a><a href="./tag/github.html">github</a></p></p>
</footer><!-- /.post-info -->                <p>这篇文章很多内容来自于xieyu的一篇博文<a href="http://xieyu.github.com/pelican-github-markdown.html">markdown+pelican+github=Perfect blog platform</a>, 本着引用注明出处的原则，我得先声明这一点:-)</p>
<h1 id="_1">安装一些必备的东东</h1>
<ul>
<li>
<p>python 2.7或更高版本(是否可以更低版本我不确定，我的版本是2.7)</p>
<pre><code>sudo apt-get install  python2.7
</code></pre>
</li>
<li>
<p>安装easy_install</p>
<pre><code>sudo apt-get install python-setuptools
</code></pre>
</li>
<li>
<p>安装pelican和markdown</p>
<pre><code>sudo easy_install pelican
sudo easy_install Markdown
sudo easy_install ghp-import
</code></pre>
</li>
</ul>
<h1 id="blog">创建blog</h1>
<ul>
<li>
<p>初始化</p>
<pre><code>mkdir -p ~/myblog
cd ~/myblog
pelican-quickstart
</code></pre>
</li>
<li>
<p>编译测试</p>
<pre><code>make html;firefox output/index ...</code></pre></li></ul>
                <a class="readmore" href="./blogging-with-pelican+markdown+github.html">read more</a>
                <p>There are <a href="./blogging-with-pelican+markdown+github.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./mongodb-cluster-configuration.html" rel="bookmark" title="Permalink to mongodb cluster configuration">mongodb cluster configuration</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-06-18T00:00:00">
                2012/六月/18 星期一
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/sql_nosql.html">sql_nosql</a>. </p>
<p>tags: <a href="./tag/nosql.html">nosql</a><a href="./tag/mongodb.html">mongodb</a><a href="./tag/cluster.html">cluster</a><a href="./tag/replica-set.html">replica-set</a><a href="./tag/sharding.html">sharding</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#caution">caution</a></li>
<li><a href="#shard-a-27018">shard a: 27018</a><ul>
<li><a href="#_1">节点</a></li>
<li><a href="#_2">部署</a></li>
</ul>
</li>
<li><a href="#shard-b-27018">shard b: 27018</a><ul>
<li><a href="#_3">节点</a></li>
<li><a href="#_4">部署</a></li>
</ul>
</li>
<li><a href="#config-server-27019">config server 27019</a><ul>
<li><a href="#_5">节点</a></li>
<li><a href="#_6">部署</a></li>
</ul>
</li>
<li><a href="#mongos-27017">mongos 27017</a><ul>
<li><a href="#_7">节点</a></li>
<li><a href="#_8">部署</a></li>
</ul>
</li>
<li><a href="#shard">shard管理</a></li>
<li><a href="#shard-db-and-collections">shard db and collections</a><ul>
<li><a href="#_9">举例</a></li>
</ul>
</li>
<li><a href="#_10">参考</a></li>
</ul>
</div>
<h1 id="caution">caution</h1>
<p>在实际部署的时候请注意替换下面例子中的ip地址,下面所有操作假设实在mongodb安装根目录中，比如/opt/mongodb</p>
<h1 id="shard-a-27018">shard a: 27018</h1>
<h2 id="_1">节点</h2>
<ul>
<li>192.168.0.77</li>
<li>192.168.0.78</li>
<li>192.168.0.58 仲裁节点 ...</li></ul>
                <a class="readmore" href="./mongodb-cluster-configuration.html">read more</a>
                <p>There are <a href="./mongodb-cluster-configuration.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./mongodb-performance.html" rel="bookmark" title="Permalink to mongodb cluster configuration">mongodb cluster configuration</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-06-18T00:00:00">
                2012/六月/18 星期一
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/sql_nosql.html">sql_nosql</a>. </p>
<p>tags: <a href="./tag/nosql.html">nosql</a><a href="./tag/mongodb.html">mongodb</a><a href="./tag/cluster.html">cluster</a><a href="./tag/replica-set.html">replica-set</a><a href="./tag/sharding.html">sharding</a></p></p>
</footer><!-- /.post-info -->                <div class="toc">
<ul>
<li><a href="#_1">优缺点</a></li>
<li><a href="#_2">性能评估</a></li>
<li><a href="#mongodb-vs-tokumx">mongodb vs tokumx</a></li>
<li><a href="#_3">参考</a></li>
</ul>
</div>
<h1 id="_1">优缺点</h1>
<h1 id="_2">性能评估</h1>
<h1 id="mongodb-vs-tokumx">mongodb vs tokumx</h1>
<h1 id="_3">参考</h1>
<p>http://blog.engineering.kiip.me/post/20988881092/a-year-with-mongodb</p>
<p>https://www.openshift.com/blogs/design-and-performance-tips-for-mongodb-indexes</p>
<p>https://github.com/jwilder/mongodb-tools</p>
<p>http://www.datastax.com/dev/blog/2012-in-review-performance</p>
                <a class="readmore" href="./mongodb-performance.html">read more</a>
                <p>There are <a href="./mongodb-performance.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
            
     
        <li><article class="hentry">    
                <header>
                        <h1><a href="./mysql-master-slave-replication-resync.html" rel="bookmark" title="Permalink to mysql master slave replication resync">mysql master slave replication resync</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-06-18T00:00:00">
                2012/六月/18 星期一
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="./author/wangweiwei.html">wangweiwei</a>
        </address>
        <p>In <a href="./category/sql_nosql.html">sql_nosql</a>. </p>
<p>tags: <a href="./tag/mysql.html">mysql</a><a href="./tag/replication.html">replication</a></p></p>
</footer><!-- /.post-info -->                <h1 id="masterslave">master（可以是一个slave）</h1>
<p>192.168.0.77</p>
<h1 id="slave">slave</h1>
<p>192.168.0.78</p>
<h1 id="_1">主从复制步骤和方法</h1>
<h2 id="master">master</h2>
<h3 id="_2">执行锁表操作</h3>
<pre><code>flush tables with read lock;
</code></pre>
<h3 id="_3">查看当前状态</h3>
<pre><code>show master status
</code></pre>
<h3 id="dump">dump</h3>
<pre><code>bin/mysqldump -uroot -p --default-character-set=utf8 {database} &gt; {database}.dump
</code></pre>
<h3 id="_4">解锁</h3>
<pre><code>unlock tables;
</code></pre>
<h2 id="slave_1">slave</h2>
<h3 id="slave_2">停止slave</h3>
<pre><code>mysql -uroot -p -e "stop slave;"
</code></pre>
<h3 id="_5">导入</h3>
<pre><code>mysql -uroot -p  {database} &lt;  {database ...</code></pre>
                <a class="readmore" href="./mysql-master-slave-replication-resync.html">read more</a>
                <p>There are <a href="./mysql-master-slave-replication-resync.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
        </article></li>
    </ol><!-- /#posts-list -->
</section><!-- /#content -->
        <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="http://xieyu.github.com">Xieyu</a></li>
                                                    <li><a href="http://mindhacks.cn">刘未鹏</a></li>
                                                    <li><a href="http://blog.silentxyc.com/">薛亦晨</a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="./" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="http://weibo.com/lolorosa">新浪微博</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://smashingmagazine.com">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-7072537-7");
    pageTracker._trackPageview();
    } catch(err) {}</script>
<script type="text/javascript">
    var disqus_shortname = 'cloudornot';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>